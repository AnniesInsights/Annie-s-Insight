function inviaMessaggio() {
    const input = document.getElementById('user-input'); // Campo di input
    const chatBox = document.getElementById('chat-box'); // Div che contiene i messaggi
    const video = document.getElementById('avatar-video'); // Player video

    // Controlla se l'input è vuoto
    if (input.value.trim() === '') {
        return; // Non fare nulla se l'input è vuoto
    }

    // Aggiunge il messaggio dell'utente alla chat
    const messaggioUtente = document.createElement('p');
    messaggioUtente.textContent = "Utente: " + input.value;
    messaggioUtente.style.fontWeight = 'bold';
    chatBox.appendChild(messaggioUtente);

    // Logica per le risposte in base all'input
    const messaggio = input.value.trim().toLowerCase(); // Ottieni l'input dell'utente
    let videoDaRiprodurre = ""; // Variabile per memorizzare il video da riprodurre

    // Condizioni per determinare quale video riprodurre
    if (messaggio === "cosa sai fare?") {
        videoDaRiprodurre = "Saluto.mp4"; // Sostituisci con il video corretto
    } else if (messaggio === "mostrami un video") {
        videoDaRiprodurre = "Saluto.mp4"; // Sostituisci con il video corretto
    } else {
        // Altri input e video possono essere aggiunti qui
        videoDaRiprodurre = "Saluto.mp4"; // Video predefinito
    }

    // Riproduci il video selezionato
    video.src = videoDaRiprodurre;
    video.load(); // Ricarica il video
    video.play(); // Inizia a riprodurre il video

    // Aggiungi un messaggio dell'AI dopo un breve ritardo
    setTimeout(() => {
        const messaggioAI = document.createElement('p');
        messaggioAI.textContent = "AI Avatar: Ho riprodotto il video in base alla tua richiesta.";
        chatBox.appendChild(messaggioAI);

        // Scorri automaticamente la chat verso il basso
        chatBox.scrollTop = chatBox.scrollHeight;
    }, 1000);

    // Svuota il campo di input dopo l'invio
    input.value = '';
}

// Listener per il bottone di invio
document.getElementById('send-btn').addEventListener('click', inviaMessaggio);

// Listener per inviare il messaggio con il tasto Enter
document.getElementById('user-input').addEventListener('keypress', function(event) {
    if (event.key === 'Enter') {
        inviaMessaggio();
    }
});
